# HG changeset patch
# Parent 0b3f9d97af70d01863519daf4f57f8918b4bc17c
# User Wolfgang Rosenauer <wr@rosenauer.org>
Bug 805549 - signaling_sipcc fails to compile because of unused variable

diff --git a/media/webrtc/signaling/signaling.gyp b/media/webrtc/signaling/signaling.gyp
--- a/media/webrtc/signaling/signaling.gyp
+++ b/media/webrtc/signaling/signaling.gyp
@@ -189,17 +189,16 @@
             'SIP_OS_LINUX',
             '_GNU_SOURCE',
             'LINUX', 
             'GIPS_VER=3510', 
             'SECLIB_OPENSSL',
           ],
           
           'cflags_mozilla': [
-            '-Werror',
           ],
         }],
         ['OS=="win"', {
           'include_dirs': [
           ],		
           'defines': [
             'SIP_OS_WINDOWS',
             'WIN32', 
@@ -217,18 +216,16 @@
           ],
           'defines': [
             'SIP_OS_OSX',
             'OSX', 
             '_FORTIFY_SOURCE=2',
           ],
           
           'cflags_mozilla': [
-            '-Werror',
-            '-Wno-error=conversion'
           ],
         }],
       ],
     },
   
     #
     # SIPCC
     #
@@ -641,17 +638,16 @@
             'USE_TIMER_SELECT_BASED',
             'FULL_BUILD',
             'STUBBED_OUT',
             'USE_PRINTF'
             'LINUX',
           ],
 
           'cflags_mozilla': [
-            '-Werror',
           ],
         }],
         ['OS=="win"', {
           'include_dirs': [
           ],
           
           'sources': [
             # SIPSTACK
@@ -760,18 +756,16 @@
             'FULL_BUILD',
             'STUBBED_OUT',
             'USE_PRINTF',
             '_DARWIN_C_SOURCE',
             'NO_NSPR_10_SUPPORT',
           ],
           
           'cflags_mozilla': [
-            '-Werror',
-            '-Wno-error=conversion'
           ],
         }],
       ],
             
     },
   ],
 }
 
diff --git a/media/webrtc/signaling/src/sipcc/core/common/config_parser.c b/media/webrtc/signaling/src/sipcc/core/common/config_parser.c
--- a/media/webrtc/signaling/src/sipcc/core/common/config_parser.c
+++ b/media/webrtc/signaling/src/sipcc/core/common/config_parser.c
@@ -402,17 +402,16 @@ void config_set_ccm_ip_mac ()
 /*
  * config_setup_element
  * Setup elements that once were downloaded from CUCM in an XML file.
  * Settings are stored in config.h
  */
 void config_setup_elements (const char *sipUser, const char *sipPassword, const char *sipDomain)
 {
     unsigned int i;
-    char buf[MAX_SIP_URL_LENGTH] = {'\0'};
     char ip[MAX_SIP_URL_LENGTH] = {'\0'};
     char option[MAX_SIP_URL_LENGTH] = {'\0'};
     int line = 0;
     cc_boolean isSecure = FALSE, isValid = TRUE;
     char macaddr[MAC_ADDR_SIZE];
 
     compare_or_set_int_value(CFGID_MEDIA_PORT_RANGE_START, gStartMediaPort, (const unsigned char *) "startMediaPort");
     compare_or_set_int_value(CFGID_MEDIA_PORT_RANGE_END, gStopMediaPort, (const unsigned char *) "stopMediaPort");
